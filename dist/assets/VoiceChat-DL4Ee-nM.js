import{j as e}from"./index-COPZ4fKZ.js";import{r as s}from"./vendor-react-9fiDQRhm.js";import{s as t}from"./vendor-elevenlabs-C66rJK5d.js";import{X as n,a,P as r}from"./vendor-icons-C8WoZG9s.js";function c({isOpen:c,onClose:l}){const{status:i,isSpeaking:o,startSession:d,endSession:x}=t({agentId:"agent_0701k72hgm7se1gvm1db45vg23r1"}),[m,h]=s.useState("idle");s.useEffect(()=>{c?"disconnected"===i&&d({agentId:"agent_0701k72hgm7se1gvm1db45vg23r1",connectionType:"websocket"}):("connected"===i&&x(),h("idle"))},[c,i,d,x]),s.useEffect(()=>{h("connecting"===i?"connecting":"connected"===i?o?"speaking":"listening":"idle")},[i,o]);return c?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-off-white border-3 border-charcoal shadow-brutal-chat rounded-sm w-full max-w-sm max-h-[600px] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"bg-warm-beige border-b-3 border-charcoal p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-black text-xl uppercase",children:"Voice Demo"}),e.jsxs("p",{className:"text-xs text-charcoal",children:["idle"===m&&"Ready to start","connecting"===m&&"Connecting...","connected"===m&&"Connected","speaking"===m&&"Agent Speaking","listening"===m&&"Listening...","error"===m&&"Connection Error"]})]}),e.jsx("button",{onClick:l,className:"w-8 h-8 flex items-center justify-center hover:bg-charcoal hover:text-off-white transition-colors rounded-sm border-2 border-charcoal","aria-label":"Close",children:e.jsx(n,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-6 space-y-6",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs("div",{className:"relative w-24 h-24 flex items-center justify-center",children:["speaking"===m&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 border-3 border-terracotta rounded-full animate-pulse"}),e.jsx("div",{className:"absolute inset-2 border-3 border-terracotta rounded-full animate-pulse",style:{animationDelay:"0.2s"}})]}),"listening"===m&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 border-3 border-soft-sage rounded-full animate-pulse"}),e.jsx("div",{className:"absolute inset-2 border-3 border-soft-sage rounded-full animate-pulse",style:{animationDelay:"0.2s"}})]}),e.jsx("div",{className:"relative z-10 w-16 h-16 rounded-full border-3 border-charcoal flex items-center justify-center "+("speaking"===m?"bg-terracotta":"listening"===m?"bg-soft-sage":"connecting"===m?"bg-muted-taupe":"error"===m?"bg-peach":"bg-warm-beige"),children:"error"===m?e.jsx("span",{className:"text-2xl font-black",children:"!"}):e.jsx(a,{className:"w-8 h-8 text-charcoal"})})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"font-black text-charcoal uppercase text-sm",children:["idle"===m&&"Ready","connecting"===m&&"Connecting...","connected"===m&&"Connected - Speak Now","speaking"===m&&"Agent Speaking","listening"===m&&"Listening to You","error"===m&&"Connection Error"]}),e.jsxs("p",{className:"text-xs text-charcoal mt-1",children:["listening"===m&&"Your microphone is active","speaking"===m&&"The agent is speaking"]})]})]})}),e.jsx("div",{className:"border-t-3 border-charcoal bg-off-white p-4 flex gap-3",children:e.jsxs("button",{onClick:()=>{x(),l()},className:"w-full bg-peach text-charcoal px-4 py-3 border-3 border-charcoal shadow-brutal-xs font-black uppercase text-sm hover:-translate-x-[1px] hover:-translate-y-[1px] hover:shadow-brutal-sm transition-all duration-200 flex items-center justify-center gap-2 rounded-sm",children:[e.jsx(r,{className:"w-4 h-4"}),e.jsx("span",{children:"End Call"})]})})]})}):null}export{c as VoiceChat};
//# sourceMappingURL=VoiceChat-DL4Ee-nM.js.map
